{% extends 'base.html' %} {% block content %}
<div class="container">
  {% set email = request.cookies.get('email') %}
  <br />
  {% set res = fetch_user_transactions(email) %}
  <h3>Filter By</h3>
  <form method="get" id="Search">
  <label for="options">Select an option:</label>
  <select name = "options" id="options" onchange="handleOptionChange()">
    <option value="dates_between">Dates</option>
    <option value="amounts_range">Amount</option>
    <option value="mode">Mode</option>
  </select>
  <div id="content"></div>
  <button type="submit">Filter</button>
</form>




  <table class="table">
    <thead>
      <tr>
        <th scope="col">S.No</th>
        <th scope="col">Amount</th>
        <th scope="col">Mode</th>
        <th scope="col">Date</th>
        <th scope="col">Note</th>
      </tr>
    </thead>
    <tbody>
      {% for i in range(res|length) %}
      <tr>
        <th scope="row">{{ i+1 }}</th>
        <td>{{ res[i]["transaction"] }}</td>
        <td>{{ res[i]["mode"] }}</td>
        <td>{{ res[i]["datestamp"] }}</td>
        <td>{{ res[i]["note"] }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}
